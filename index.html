<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hotel Booking Page</title>
    </head>
    
    <body>
        <h1>Book Your Next Trip Here</h1>
        <input type="text" name="country" placeholder="country">
        <input type="text" name="city" placeholder="city">
        <button class="submit-btn">Look up</button>
        <div class="result"></div>
    </body>
    <script>
        const submitBtn = document.querySelector(".submit-btn");
        submitBtn.addEventListener("click", requestData);
        function requestData(e) {
            var country = document.querySelector("input[name='country']").value;
            var city = document.querySelector("input[name='city']").value;
    
            if (!country || !city) {
                alert("Please, eneter country and city");
                return;
            }
    
            const options = {
                method: 'GET',
                headers: {
                    'X-RapidAPI-Key': '097fd673a7msh7f511efd9cb5a26p13097cjsnaf0f7f767f24',
                    'X-RapidAPI-Host': 'best-booking-com-hotel.p.rapidapi.com'
                }
            };
    
            fetch('https://best-booking-com-hotel.p.rapidapi.com/booking/best-accommodation?cityName='+city+'&countryName='+country, options)
                .then(response => response.json())
                .then(response => {
                    var resultCnt = document.querySelector(".result");
                    resultCnt.innerHTML = '<h3>'+response.name+'</h3>';
                    resultCnt.innerHTML += '<a href='+response.link+' target="_blank">Visit hotel website</a>';
                    resultCnt.innerHTML += '<p>Hotel rating: '+response.rating+'</p>';
                })
                .catch(err => console.error(err));
        }
    </script>
    
    </html>
